!function(e){function t(o){if(l[o])return l[o].exports;var a=l[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var l={};t.m=e,t.c=l,t.d=function(e,l,o){t.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(1)},function(e,t,l){"use strict";var o=l(2),a=(l.n(o),l(3)),r=(l.n(a),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),n=wp.i18n.__,d=wp.blocks.registerBlockType,i=wp.editor,m=i.InspectorControls,c=i.MediaUpload,g=i.PlainText,p=i.InnerBlocks,b=wp.components,s=b.CheckboxControl,u=b.SelectControl,f=b.ColorPicker,w=b.PanelBody,C=function(e){var t={};for(var l in e)!function(l){switch(l){case"fontSize":case"padding":case"borderRadius":if(!isNaN(parseFloat(e[l]))){var o=e[l].split(" "),a="",n=0;o.forEach(function(e){(("padding"===l||"borderRadius"===l)&&n<4||"padding"!==l&&"borderRadius"!==l&&n<1)&&(e.includes("%")?a+=parseInt(e)+"% ":e.includes("rem")?a+=parseFloat(e)+"rem ":e.includes("em")?a+=parseFloat(e)+"em ":a+=parseInt(e)+"px ",n++)}),t[l]=a}break;case"color":case"backgroundColor":if("object"===r(e[l])){var d=e[l].rgb,i=d.r,m=d.g,c=d.b,g=d.a;t[l]="rgba("+i+","+m+","+c+","+g+")"}else t[l]=e[l];break;case"textAlign":t[l]=e[l]}}(l);return t};d("bod/modal-block",{title:n("Modal Block","bod-modal"),icon:"format-gallery",category:"widgets",keywords:[n("modal","bod-modal"),n("popup","bod-modal"),n("window","bod-modal")],attributes:{title:{type:"string",default:"Modal Title"},showOn:{type:"string",default:"btn"},btnLabel:{type:"string",selector:".bod-btn",source:"text",default:"Show"},btnBackgdColor:{type:"string",default:"rgba(0, 0, 0, 0.1)"},btnColor:{type:"string",default:"#ffffff"},triggerImageSizes:{type:"object",default:""},triggerImageSrc:{type:"string",attribute:"src",selector:".trigger_image",default:""},imgSize:{type:"string",default:"medium"},imgSizeLabels:{type:"array",default:[]},triggerText:{type:"string",source:"text",selector:".type_text",default:"Click Me"},textSize:{type:"string",default:""},overrideLinkColor:{type:"boolean",default:!1},textColor:{type:"string",default:"#000000"},textAlign:{type:"string",default:"center"},showDelay:{type:"string",default:"0"},triggerSelector:{type:"string",default:"triggerclass"},overlayBackgdColor:{type:"string",default:"rgba(0, 0, 0, 0.1)"},modalSize:{type:"string",default:"size-m"},modalBackgdColor:{type:"string",default:"#ffffff"},modalPadding:{type:"string"},titleSize:{type:"string",default:""},titleColor:{type:"string",default:"#000000"},titleBackgdColor:{type:"string",default:"#ffffff"},titlePadding:{type:"string"},modalRadius:{type:"string",default:"10"}},edit:function(e){function t(){for(var e=wp.data.select("core/editor"),t=e.getBlockSelectionStart(),l=e.getBlock(y).innerBlocks,o=0;o<l.length;o++)if(l[o].clientId===t)return!0;return!1}function l(e,t){return Array.isArray(e)?e.includes(r[t])?"":"hide":r[t]!==e?"hide":""}function o(e){i({triggerImageSizes:e.sizes}),i({triggerImageSrc:e.sizes.medium.url});var t=Object.keys(e.sizes),l=[];t.forEach(function(e,t){l.push({label:e,value:e})}),i({imgSizeLabels:l})}function a(e){i({imgSize:e,triggerImageSrc:r.triggerImageSizes[e].url})}var r=e.attributes,d=e.className,i=e.setAttributes,b=e.isSelected,y=e.clientId;return wp.element.createElement("div",null,wp.element.createElement("div",{className:"bod-block-popup align-"+r.textAlign+" "+d},function(){if("image"===r.showOn)return wp.element.createElement("a",{href:"javascript:void(0)",className:"bod-block-popup-trigger type_image"},wp.element.createElement("img",{className:"trigger_image",src:r.triggerImageSrc,alt:""}));if("text"===r.showOn){var e="";return e=C(r.overrideLinkColor?{fontSize:r.textSize,color:r.textColor}:{fontSize:r.textSize}),wp.element.createElement("a",{href:"javascript:void(0)",style:e,className:"bod-block-popup-trigger type_text"},r.triggerText)}if("load"===r.showOn)return wp.element.createElement("span",{className:"bod-block-popup-trigger type_load","data-delay":r.showDelay},n("Modal on screen load","bod-modal"));if("selector"===r.showOn)return wp.element.createElement("span",{className:"bod-block-popup-trigger type_selector","data-selector":r.triggerSelector},n("Modal on class selector","bod-modal"));var t=C({backgroundColor:r.btnBackgdColor,color:r.btnColor});return wp.element.createElement("span",{style:t,className:"bod-block-popup-trigger type_btn bod-btn"},r.btnLabel)}(),wp.element.createElement("div",{style:C({backgroundColor:r.overlayBackgdColor}),className:"bod-block-popup-overlay"}),wp.element.createElement("div",{role:"dialog","aria-modal":"false","aria-labelledby":"","aria-describedby":"",style:C({backgroundColor:r.modalBackgdColor,borderRadius:r.modalRadius}),className:"bod-block-popup-wrap "+r.modalSize},wp.element.createElement("div",{id:"",style:C({backgroundColor:r.titleBackgdColor,padding:r.titlePadding}),className:"bod-modal-title"},wp.element.createElement("h2",{style:C({color:r.titleColor,fontSize:r.titleSize})},r.title))," ",wp.element.createElement("div",{id:"",style:C({padding:r.modalPadding}),className:"bod-modal-content"})," ",wp.element.createElement("div",{className:"bod-block-popup-closer"}))," "),wp.element.createElement("div",{className:"bod-form"},function(e){return e||t()?wp.element.createElement("div",null,wp.element.createElement(g,{onChange:function(e){return i({title:e})},value:r.title,placeholder:n("Modal Title Text","bod-modal")}),wp.element.createElement("label",null,n("Modal Content:","bod-modal")),wp.element.createElement("div",{className:"bod-form-innerblock"},wp.element.createElement(p,null))):null}(b),wp.element.createElement(m,null,wp.element.createElement(w,{title:n("Trigger","bod-modal"),initialOpen:!0,className:"bod-form"},wp.element.createElement(u,{label:n("Show On","bod-modal"),value:r.showOn,options:[{label:n("Button Click","bod-modal"),value:"btn"},{label:n("Text Click","bod-modal"),value:"text"},{label:n("Image Click","bod-modal"),value:"image"},{label:n("Custom Element Click","bod-modal"),value:"selector"},{label:n("Page Load","bod-modal"),value:"load"}],onChange:function(e){return i({showOn:e})}}),wp.element.createElement("div",{className:l("btn","showOn")},wp.element.createElement("label",null,n("Button Label:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({btnLabel:e})},value:r.btnLabel,placeholder:n("Text to appear on button","bod-modal")}),wp.element.createElement("label",null,n("Button Background Color:","bod-modal")),wp.element.createElement(f,{color:r.btnBackgdColor,onChangeComplete:function(e){return i({btnBackgdColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}),wp.element.createElement("label",null,n("Button Color:","bod-modal")),wp.element.createElement(f,{color:r.btnColor,onChangeComplete:function(e){return i({btnColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}))," ",wp.element.createElement("div",{className:l("image","showOn")},wp.element.createElement("label",null,n("Image: ","bod-modal")),wp.element.createElement(c,{onSelect:o,type:"image",value:r.triggerImageSrc,render:function(e){var t=e.open;return wp.element.createElement("a",{onClick:t,className:"bod-trigger-image-container"},wp.element.createElement("img",{src:r.triggerImageSrc}))}}),wp.element.createElement(u,{label:n("Image Size:","bod-modal"),value:r.imgSize,options:r.imgSizeLabels,onChange:a}))," ",wp.element.createElement("div",{className:l("text","showOn")},wp.element.createElement("label",null,n("Text:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({triggerText:e})},value:r.triggerText,placeholder:n("Trigger text","bod-modal")}),wp.element.createElement("label",null,n("Text Size:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({textSize:e})},value:r.textSize,placeholder:n("Trigger link text size","bod-modal")}),wp.element.createElement(s,{label:n("Override Theme Text Color:","bod-modal"),checked:r.overrideLinkColor,onChange:function(e){return i({overrideLinkColor:e})}}),wp.element.createElement("div",{className:l(!0,"overrideLinkColor")},wp.element.createElement("label",null,n("Text Color:","bod-modal")),wp.element.createElement(f,{color:r.textColor,onChangeComplete:function(e){return i({textColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}))),wp.element.createElement("div",{className:l(["text","image","btn"],"showOn")},wp.element.createElement(u,{label:n("Button / Text / Image Align","bod-modal"),value:r.textAlign,options:[{label:n("Left","bod-modal"),value:"left"},{label:n("Center","bod-modal"),value:"center"},{label:n("Right","bod-modal"),value:"right"}],onChange:function(e){return i({textAlign:e})}})),wp.element.createElement("div",{className:l("load","showOn")},wp.element.createElement("label",null,n("Delay Before Showing Modal:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({showDelay:e})},value:r.showDelay,placeholder:n("Delay before showing modal popup","bod-modal")})),wp.element.createElement("div",{className:l("selector","showOn")},wp.element.createElement("label",null,n("Trigger Class Selector:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({triggerSelector:e})},value:r.triggerSelector,placeholder:n("Trigger Class Selector","bod-modal")}))),wp.element.createElement(w,{title:n("Style","bod-modal"),initialOpen:!1,className:"bod-form"},wp.element.createElement("label",null,n("Overlay Background Color:","bod-modal")),wp.element.createElement(f,{color:r.overlayBackgdColor,onChangeComplete:function(e){return i({overlayBackgdColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}),wp.element.createElement("label",null,n("Title Text Size:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({titleSize:e})},value:r.titleSize,placeholder:n("Modal Title Text Size px, em, rem, %","bod-modal")}),wp.element.createElement("label",null,n("Modal Title Color:","bod-modal")),wp.element.createElement(f,{color:r.titleColor,onChangeComplete:function(e){return i({titleColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}),wp.element.createElement("label",null,n("Modal Title Background Color:","bod-modal")),wp.element.createElement(f,{color:r.titleBackgdColor,onChangeComplete:function(e){return i({titleBackgdColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}),wp.element.createElement("label",null,n("Title Padding:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({titlePadding:e})},value:r.titlePadding,placeholder:n("Title padding px, em, rem, %","bod-modal")}),wp.element.createElement(u,{label:n("Modal Size - Width","bod-modal"),value:r.modalSize,options:[{label:n("Small 400px","bod-modal"),value:"size-s"},{label:n("Medium 600px","bod-modal"),value:"size-m"},{label:n("Large 800px","bod-modal"),value:"size-l"},{label:n("XL 1000px","bod-modal"),value:"size-xl"},{label:n("Fullscreen","bod-modal"),value:"size-f"}],onChange:function(e){return i({modalSize:e})}}),wp.element.createElement("label",null,n("Modal Background Color:","bod-modal")),wp.element.createElement(f,{color:r.modalBackgdColor,onChangeComplete:function(e){return i({modalBackgdColor:"rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.rgb.a+")"})}}),wp.element.createElement("label",null,n("Modal Padding:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({modalPadding:e})},value:r.modalPadding,placeholder:n("Modal padding px, em, rem, %","bod-modal")}),wp.element.createElement("label",null,n("Modal Border Radius:","bod-modal")),wp.element.createElement(g,{onChange:function(e){return i({modalRadius:e})},value:r.modalRadius,placeholder:n("Modal radius for border","bod-modal")}))))," ")},save:function(e){var t=e.attributes;return wp.element.createElement("div",{className:"bod-block-popup align-"+t.textAlign},function(){if("image"===t.showOn)return wp.element.createElement("a",{href:"javascript:void(0)",className:"bod-block-popup-trigger type_image"},wp.element.createElement("img",{className:"trigger_image",src:t.triggerImageSrc,alt:""}));if("text"===t.showOn){var e="";return e=C(t.overrideLinkColor?{fontSize:t.textSize,color:t.textColor}:{fontSize:t.textSize}),wp.element.createElement("a",{href:"javascript:void(0)",style:e,className:"bod-block-popup-trigger type_text"},t.triggerText)}if("load"===t.showOn)return wp.element.createElement("span",{className:"bod-block-popup-trigger type_load","data-delay":t.showDelay});if("selector"===t.showOn)return wp.element.createElement("span",{className:"bod-block-popup-trigger type_selector","data-selector":t.triggerSelector});var l=C({backgroundColor:t.btnBackgdColor,color:t.btnColor});return wp.element.createElement("span",{style:l,className:"bod-block-popup-trigger type_btn bod-btn"},t.btnLabel)}(),wp.element.createElement("div",{style:C({backgroundColor:t.overlayBackgdColor}),className:"bod-block-popup-overlay"}),wp.element.createElement("div",{role:"dialog","aria-modal":"false","aria-labelledby":"","aria-describedby":"",className:"bod-block-popup-wrap"},wp.element.createElement("div",{style:C({backgroundColor:t.modalBackgdColor,borderRadius:t.modalRadius}),className:"bod-block-popup "+t.modalSize},wp.element.createElement("div",{id:"",style:C({backgroundColor:t.titleBackgdColor,padding:t.titlePadding}),className:"bod-modal-title"},wp.element.createElement("h2",{style:C({color:t.titleColor,fontSize:t.titleSize})},t.title))," ",wp.element.createElement("div",{id:"",style:C({padding:t.modalPadding}),className:"bod-modal-content"},wp.element.createElement(p.Content,null))," ")," ",wp.element.createElement("div",{className:"bod-block-popup-closer"})))}})},function(e,t){},function(e,t){}]);